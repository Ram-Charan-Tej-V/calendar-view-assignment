"use strict";(self.webpackChunkcalendar_component_starter=self.webpackChunkcalendar_component_starter||[]).push([[447],{"./src/components/Calendar/EventModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{EventModal:()=>EventModal});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var PRESET_COLORS=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],EventModal=function EventModal(_ref){var _initial$title,_initial$description,_initial$color,open=_ref.open,initial=_ref.initial,onClose=_ref.onClose,onSave=_ref.onSave,onDelete=_ref.onDelete,_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null!==(_initial$title=null==initial?void 0:initial.title)&&void 0!==_initial$title?_initial$title:""),2),title=_useState2[0],setTitle=_useState2[1],_useState4=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null!==(_initial$description=null==initial?void 0:initial.description)&&void 0!==_initial$description?_initial$description:""),2),description=_useState4[0],setDescription=_useState4[1],_useState6=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null!=initial&&initial.startDate?new Date(initial.startDate).toISOString().slice(0,16):""),2),startDate=_useState6[0],setStartDate=_useState6[1],_useState8=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null!=initial&&initial.endDate?new Date(initial.endDate).toISOString().slice(0,16):""),2),endDate=_useState8[0],setEndDate=_useState8[1],_useState0=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null!==(_initial$color=null==initial?void 0:initial.color)&&void 0!==_initial$color?_initial$color:PRESET_COLORS[0]),2),color=_useState0[0],setColor=_useState0[1];(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){var _initial$title2,_initial$description2,_initial$color2;setTitle(null!==(_initial$title2=null==initial?void 0:initial.title)&&void 0!==_initial$title2?_initial$title2:""),setDescription(null!==(_initial$description2=null==initial?void 0:initial.description)&&void 0!==_initial$description2?_initial$description2:""),setStartDate(null!=initial&&initial.startDate?new Date(initial.startDate).toISOString().slice(0,16):""),setEndDate(null!=initial&&initial.endDate?new Date(initial.endDate).toISOString().slice(0,16):""),setColor(null!==(_initial$color2=null==initial?void 0:initial.color)&&void 0!==_initial$color2?_initial$color2:PRESET_COLORS[0])},[initial,open]);var firstRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);if((0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){var _firstRef$current;open&&(null===(_firstRef$current=firstRef.current)||void 0===_firstRef$current||_firstRef$current.focus())},[open]),!open)return null;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",className:"fixed inset-0 z-50 flex items-center justify-center p-4"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"absolute inset-0 bg-black/40",onClick:onClose}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"relative bg-white rounded-xl shadow-modal w-full max-w-lg p-6"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",{id:"modal-title",className:"text-lg font-semibold mb-4"},null!=initial&&initial.id?"Edit Event":"Create Event"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:"block text-sm"},"Title ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"text-red-500"},"*"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{ref:firstRef,value:title,onChange:function onChange(e){return setTitle(e.target.value)},maxLength:100,className:"mt-1 block w-full border p-2 rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:"block text-sm mt-3"},"Description",react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{value:description,onChange:function onChange(e){return setDescription(e.target.value)},maxLength:500,className:"mt-1 block w-full border p-2 rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"grid grid-cols-2 gap-3 mt-3"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:"text-sm"},"Start",react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"datetime-local",value:startDate,onChange:function onChange(e){return setStartDate(e.target.value)},className:"mt-1 block w-full border p-2 rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:"text-sm"},"End",react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"datetime-local",value:endDate,onChange:function onChange(e){return setEndDate(e.target.value)},className:"mt-1 block w-full border p-2 rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"mt-3"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"text-sm mb-1"},"Color"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"flex gap-2"},PRESET_COLORS.map(function(c){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{key:c,onClick:function onClick(){return setColor(c)},"aria-label":"select color ".concat(c),className:"w-8 h-8 rounded ".concat(color===c?"ring-2 ring-offset-1 ring-primary-500":""),style:{backgroundColor:c}})}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"flex justify-end gap-2 mt-6"},(null==initial?void 0:initial.id)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:function onClick(){initial.id&&confirm("Delete this event?")&&(null==onDelete||onDelete(initial.id),onClose())},className:"px-3 py-2 rounded text-sm border text-red-600"},"Delete"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:onClose,className:"px-3 py-2 rounded text-sm border"},"Cancel"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:function handleSave(){var _initial$id;if(title.trim()){var s=new Date(startDate),e=new Date(endDate);if(e<=s)alert("End must be after start");else{var event={id:null!==(_initial$id=null==initial?void 0:initial.id)&&void 0!==_initial$id?_initial$id:"evt-".concat(Math.random().toString(36).slice(2,9)),title:title.trim(),description:description.trim()||void 0,startDate:s,endDate:e,color,category:null==initial?void 0:initial.category};onSave(event),onClose()}}else alert("Title is required")},className:"px-4 py-2 rounded text-sm bg-primary-600 text-white"},"Save"))))};EventModal.__docgenInfo={description:"",methods:[],displayName:"EventModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},initial:{required:!1,tsType:{name:"Partial",elements:[{name:"CalendarEvent"}],raw:"Partial<CalendarEvent>"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: CalendarEvent) => void",signature:{arguments:[{type:{name:"CalendarEvent"},name:"event"}],return:{name:"void"}}},description:""},onDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""}}}}}]);